<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous" defer></script>
    <style>
        body{
            display: flex;
            justify-content: center;
            width: 100vw;
            height: 45vw;
            align-items: center;
            background-image: url(./images/login.jpeg);
            background-repeat: no-repeat;
            background-position: center;
            background-size: cover;
            
        }
        
        
        input{
            float: right;
        }
        [type='submit'],[type='button']{
            float: none;
        }
        p{
            
            color: red;
            display: none;
        }
        form{
            background-color: white;
            padding: 30px;
            /* border: 1px solid black; */
            box-shadow: 0 8px 16px rgba(0,0,0,0.3);
        }
    </style>
</head>
<body>
    <form action="">
        <fieldset>
            <legend style="font-family: serif; text-align: center; color: blue;text-decoration: underline;">SignUp Form</legend>
        
        <label for="name">Full Name:<span style="color: red;">*</span></label>
        <input type="text" class="form-control"><br>
        <p id="one">Enter a proper name</p>
        <label for="mobile">Phone Number:<span style="color: red;">*</span></label>
        <input type="tel" class="form-control"><br>
        <p id="two">Enter a valid mobile number</p>
        <label for="email">Email Address:<span style="color: red;">*</span></label>
        <input type="email" class="form-control"><br>
        <p id="three">Enter an valid email address</p>
        <label for="Password">Create Password:<span style="color: red;">*</span></label>
        <input type="password" class="form-control"><br>
        <p id="four">Password legth must be between<br> 5-8 and contain alpahnumerics <br>and special symbol</p>
        <label for="Npassword">Confirm Password:<span style="color: red;">*</span></label>
        <input type="password" class="form-control"><br><br>
        <p id="five">Passwords should be same</p><br>
        <center><input type="submit" Value="Register" class="btn btn-success"></center> <br>
        <a href="./login.html">Already Have an Account goto login page</a>
    </fieldset>
    </form>
    <script>


        let form=document.forms;
        form[0].addEventListener('submit',(e)=>{
            e.preventDefault();
            let name=e.target[1].value
            let num=e.target[2].value
            let email=e.target[3].value
            let pass=e.target[4].value
            let pass2=e.target[5].value
            let p1=document.getElementById('one')
            let p2=document.getElementById('two')
            let p3=document.getElementById('three')
            let p4=document.getElementById('four')
            let p5=document.getElementById('five')
            if(name.length>=5 && /^[A-Z]/.test(name)){
                if(/^[6-9]/.test(num) && /[0-9]/g.test(num) && num.length==10){
                    if(/..@gmail.com$/.test(email)){
                        if(pass==pass2){
                            if(/[0-9]/.test(pass) && /[a-zA-z]/.test(pass) && /[^a-zA-Z0-9]/.test(pass) && pass.length>=5 && pass.length<=8){
                                let arr=JSON.parse(localStorage.getItem('info'))
                                let arr1=(arr==null)?[]:arr;
                                let obj={
                                    username:name,
                                    mobile:num,
                                    EmailId:email,
                                    password1:pass,
                                    password2:pass2
                                }
                                let arr2=arr1.filter((val,ind)=>{
                                    return val['EmailId']==obj['EmailId'];
                                })
                                if(arr2.length==0){
                                    arr1.push(obj) 
                                    p1.style.display="none"
                                    p2.style.display="none"
                                    p3.style.display="none"
                                    p4.style.display="none"
                                    p5.style.display="none"
                                    e.target[1].value=""
                                    e.target[2].value=""
                                    e.target[3].value=""
                                    e.target[4].value=""
                                    e.target[5].value=""
                                    localStorage.setItem('info',JSON.stringify(arr1))
                                    window.location.assign('login.html')
                                }
                                else{
                                    alert('user already Exist go to login page')
                                }  
                            }
                            else{
                                p1.style.display="none"
                                p2.style.display="none"
                                p3.style.display="none"
                                p4.style.display="block"
                                p5.style.display="none"

                            }
                        }
                        else{
                            p1.style.display="none"
                            p2.style.display="none"
                            p3.style.display="none"
                            p4.style.display="none"
                            p5.style.display="block"

                        }
                    }
                    else{
                        p1.style.display="none"
                        p2.style.display="none"
                        p3.style.display="block"
                        p4.style.display="none"
                        p5.style.display="none"

                    }
                }
                else{
                    p1.style.display="none"
                    p2.style.display="block"
                    p3.style.display="none"
                    p4.style.display="none"
                    p5.style.display="none"

                }
            }
            else{
                
                p1.style.display="block"
                p2.style.display="none"
                p3.style.display="none"
                p4.style.display="none"
                p5.style.display="none"

            }
            
        })
    </script>
</body>
</html>